{"version":3,"sources":["registerServiceWorker.js","commons/getcookie.js","store/actions/auth.js","store/actions/actionTypes.js","pages/Login.js","pages/NotFound.js","commons/currency.js","store/actions/cart.js","components/CartItem.js","pages/Cart.js","pages/Register.js","utils.js","components/ToolBox.js","components/Panel.js","store/actions/product.js","components/EditInventroy.js","components/Product.js","components/AddInventory.js","components/Products.js","hoc/hoc.js","Router.js","components/UserProfile.js","components/Header.js","Layout.js","App.js","store/utility.js","store/reducers/auth.js","store/reducers/cart.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","getCookie","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","endpoint","authSuccess","token","type","authFail","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","getUserInfo","a","axios","create","baseURL","headers","post","getItem","actionType","err","res","Login","username","password","handleChange","e","setState","target","value","onSubmit","preventDefault","props","login","this","to","className","message","placeholder","onChange","React","Component","connect","loading","auth","data","key","expirationDate","Date","getTime","setItem","toast","success","authLogin","NotFound","formatPrice","cents","toLocaleString","style","currency","getCartAmount","Axios","addToCart","id","CartItem","cart","image","price","useState","quantity","setQuantity","sumPrice","useMemo","parseInt","onClick","deleteFromCart","deleteCart","src","alt","width","min","_quantity","newCart","updateCartQuantity","updateCart","isAuthenticated","carts","setCarts","useEffect","totalPrice","map","reduce","newCarts","_index","findIndex","c","splice","_carts","filter","TransitionGroup","component","CSSTransition","timeout","Register","nickname","email","password1","password2","handleSubmit","signup","authSignup","authAxios","ToolBox","searchText","isLogout","search","searchClear","goCart","history","push","info","cartNum","withRouter","Panel","active","callback","open","options","_key","_component","createElement","close","true","false","_div","body","appendChild","_panel","render","createProduct","product","updateProduct","put","deleteProduct","delete","EditInventory","tags","status","submit","warning","onDelete","Product","toEdit","update","addCart","updateCartNum","available","unavailable","userIsManager","disabled","AddInventory","Products","products","sourceProducts","text","_products","p","RegExp","toAdd","add","product_data","_sourceProducts","_sourceIndex","initCartNum","amount","updateUserInfo","initUserInfo","user","usertype","logoutRefresh","get","response","classNames","Hoc","children","Router","exact","path","Cart","UserProfile","defaultValue","Header","toProfile","Layout","App","onTryAutoSignup","undefined","updateObject","oldObject","updatedProperties","initialState","authStart","action","authLogout","reducer","shoppingCart","cartStart","cartSuccess","cartFail","composeEnhances","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","rootReducer","combineReducers","authReducer","cartReducer","store","createStore","applyMiddleware","thunk","app","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","getElementById","URL","process","origin","addEventListener","fetch","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.d1076f28.chunk.js","sourcesContent":["// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://goo.gl/SC7cgQ\"\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log(\"New content is available; please refresh.\");\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get(\"content-type\").indexOf(\"javascript\") === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","export const getCookie = (name) => {\n    let cookieValue = null;\n    if (document.cookie && document.cookie !== '') {\n        const cookies = document.cookie.split(';');\n        for (let i = 0; i < cookies.length; i++) {\n            const cookie = cookies[i].trim();\n            // Does this cookie string begin with the name we want?\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\n                break;\n            }\n        }\n    }\n    return cookieValue;\n}","import { toast } from \"react-toastify\";\nimport * as actionTypes from \"store/actions/actionTypes\";\nimport axios from \"axios\";\nimport { getCookie } from \"commons/getcookie\";\n\nconst endpoint = \"http://127.0.0.1:8000/\"\n\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\n\nexport const authSuccess = token => {\n  return {\n    type: actionTypes.AUTH_SUCCESS,\n    token: token\n  };\n};\n\nexport const authFail = error => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  };\n};\n\nexport const logout = () => {\n  localStorage.removeItem(\"token\");\n  localStorage.removeItem(\"expirationDate\");\n  return {\n    type: actionTypes.AUTH_LOGOUT\n  };\n};\n\nexport const checkAuthTimeout = expirationTime => {\n  return dispatch => {\n    setTimeout(() => {\n      dispatch(logout());\n    }, expirationTime * 1000);\n  };\n};\n\nexport const authLogin = (username, password) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios.create({\n      baseURL: endpoint,\n      headers: {\n        \"X-CSRFToken\": getCookie('csrftoken')\n      }\n    })\n      .post(\"rest-auth/login/\", {\n        username: username,\n        password: password\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(token));\n        dispatch(checkAuthTimeout(3600));\n        toast.success('Login success!!!')\n      })\n      .catch(err => {\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authSignup = (username, nickname, email, password1, password2) => {\n  return dispatch => {\n    dispatch(authStart());\n    axios.create({\n      baseURL: endpoint,\n      headers: {\n        \"X-CSRFToken\": getCookie('csrftoken')\n      }\n    })\n      .post(\"rest-auth/registration/\", {\n        username: username,\n        email: email,\n        password1: password1,\n        password2: password2\n      })\n      .then(res => {\n        const token = res.data.key;\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\n        localStorage.setItem(\"token\", token);\n        localStorage.setItem(\"expirationDate\", expirationDate);\n        dispatch(authSuccess(token));\n        dispatch(checkAuthTimeout(3600));\n      })\n      .catch(err => {\n        dispatch(authFail(err));\n      });\n    axios.create({\n        baseURL: endpoint + \"products/\",\n        headers: {\n          \"X-CSRFToken\": getCookie('csrftoken')\n        }\n      })\n      .post(\"create-user/\", {\n        username: username,\n        nickname: nickname,\n        email: email\n      })\n      .catch(err => {\n        dispatch(authFail(err));\n      });\n  };\n};\n\nexport const authCheckState = () => {\n  return dispatch => {\n    const token = localStorage.getItem(\"token\");\n    if (token === undefined) {\n      dispatch(logout());\n    } else {\n      const expirationDate = new Date(localStorage.getItem(\"expirationDate\"));\n      if (expirationDate <= new Date()) {\n        dispatch(logout());\n      } else {\n        dispatch(authSuccess(token));\n        dispatch(\n          checkAuthTimeout(\n            (expirationDate.getTime() - new Date().getTime()) / 1000\n          )\n        );\n      }\n    }\n  };\n};\n\nexport const getUserInfo = async () => {\n  const res = \n    await axios.create({\n      baseURL: \"http://127.0.0.1:8000/products/\",\n      headers: {\n        \"X-CSRFToken\": getCookie('csrftoken')\n      }\n    })\n      .post(\"user-info/\", {\n        token: localStorage.getItem(\"token\"),\n        actionType: \"getUser\"\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  return res\n}\n\n","export const AUTH_START = \"AUTH_START\";\nexport const AUTH_SUCCESS = \"AUTH_SUCCESS\";\nexport const AUTH_FAIL = \"AUTH_FAIL\";\nexport const AUTH_LOGOUT = \"AUTH_LOGOUT\";\n\nexport const CART_START = \"CART_START\";\nexport const CART_SUCCESS = \"CART_SUCCESS\";\nexport const CART_FAIL = \"CART_FAIL\";\n\nexport const PRODUCT_START = \"PRODUCT_START\";\nexport const PRODUCT_SUCCESS = \"PRODUCT_SUCCESS\";\nexport const PRODUCT_FAIL = \"PRODUCT_FAIL\";","import React from \"react\";\nimport { authLogin } from \"store/actions/auth\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { getCookie } from \"commons/getcookie\";\n\nclass Login extends React.Component {\n  \n  state = {\n    username: \"\",\n    password: \"\"\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n    const { username, password } = this.state;\n    this.props.login(username, password);\n  }\n  \n  render() {\n    const { error, token } = this.props;\n    const { username, password } = this.state;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n    \n    return (\n      <div className=\"login-wrapper\">\n        <form className=\"box login-box\" onSubmit={this.onSubmit}>\n        {error && <p>{this.props.error.message}</p>}\t\t\t\t\n          <div className=\"field\">\n            <label className=\"label\">Username</label>\n            <div className=\"control\">\n              <input \n                className= \"input\"\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                onChange={this.handleChange}\n                value={username}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">Password</label>\n            <div className=\"control\">\n              <input\n                className= \"input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password\"\n                onChange={this.handleChange}\n                value={password}\n              />\n            </div>\n          </div>\n          <div className=\"control\">\n            <button className=\"button is-fullwidth is-primary\">Submit</button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    login: (username, password) => dispatch(authLogin(username, password))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);\n","import React from \"react\";\n\nconst NotFound = () => (\n    <div className=\"not-found\">\n        <h1>Page Not Found</h1>\n    </div>\n)\n\nexport default NotFound;","export const formatPrice = cents => {\n  return (cents / 100).toLocaleString('gb', {\n    style: 'currency',\n    currency: 'GBP'\n  })\n}","import Axios from \"axios\";\nimport { getCookie } from \"commons/getcookie\";\n\nexport const getCartAmount = async () => {\n    const res = await Axios\n    .create({\n      baseURL: \"http://127.0.0.1:8000/products/\",\n      headers: {\n        \"X-CSRFToken\": getCookie('csrftoken')\n      }\n    })\n      .post(\"get-car-num/\", {\n        token: localStorage.getItem(\"token\"),\n        actionType: 'getCartNum'\n      })\n      .catch(err => {\n        console.log(err);\n      });\n    return res.data\n}\n\nexport const getCartInfo = () => {\n  const res = Axios\n    .create({\n      baseURL: \"http://127.0.0.1:8000/products/\",\n      headers: {\n        \"X-CSRFToken\": getCookie('csrftoken')\n      }\n    })\n      .post(\"get-cart-info/\", {\n        token: localStorage.getItem(\"token\"),\n        actionType: 'getCartInfo'\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  return res\n}\n\nexport const addToCart = (id) => {\n  const res = Axios\n    .create({\n      baseURL: \"http://127.0.0.1:8000/products/\",\n      headers: {\n        \"X-CSRFToken\": getCookie('csrftoken')\n      }\n    })\n      .post(\"cart-info-update/\", {\n        token: localStorage.getItem(\"token\"),\n        actionType: \"addToCart\",\n        id: id,\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  return res\n}\n\nexport const deleteFromCart = (id) => {\n  const res = Axios\n    .create({\n      baseURL: \"http://127.0.0.1:8000/products/\",\n      headers: {\n        \"X-CSRFToken\": getCookie('csrftoken')\n      }\n    })\n      .post(\"cart-info-update/\", {\n        token: localStorage.getItem(\"token\"),\n        actionType: \"deleteFromCart\",\n        id: id,\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  return res\n}\n\nexport const updateCartQuantity = (id, quantity) => {\n  const res = Axios\n    .create({\n      baseURL: \"http://127.0.0.1:8000/products/\",\n      headers: {\n        \"X-CSRFToken\": getCookie('csrftoken')\n      }\n    })\n      .post(\"cart-info-update/\", {\n        token: localStorage.getItem(\"token\"),\n        actionType: \"updateQuantity\",\n        id: id,\n        quantity: quantity\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  return res\n}","import React, { useState, useMemo } from \"react\";\nimport { formatPrice } from \"commons/currency\";\nimport { deleteFromCart, updateCartQuantity } from \"store/actions/cart\";\n\nconst CartItem = (props) => {\n\tconst { id, name, image, price } = props.cart || {};\n\tconst [ quantity, setQuantity ] = useState(props.cart.quantity);\n\n\tconst sumPrice = useMemo(() => {\n\t\treturn formatPrice(quantity * parseInt(price))\n\t}, [quantity, price])\n\t\n\n\tconst handleChange = (e) => {\n\t\tconst _quantity = parseInt(e.target.value);\n\t\tsetQuantity(_quantity);\n\t\tconst newCart = {\n\t\t\t...props.cart,\n\t\t\tquantity: _quantity\n\t\t}\n\t\tconst res = updateCartQuantity(id, _quantity)\n\t\tres.then(() => {\n\t\t\tprops.updateCart(newCart);\n\t\t})\n\t}\n\n\tconst deleteCart = () => {\n\t\tconst res = deleteFromCart(id)\n\t\tres.then(() => {\n\t\t\tprops.deleteCart(props.cart)\n\t\t})\n\t}\n\n\treturn (\n\t\t<div className=\"columns is-vcentered\">\n\t\t\t<div className=\"column is-narrow\">\n\t\t\t\t<span className=\"close\" onClick={deleteCart}>x</span>\n\t\t\t</div>\n\t\t\t<div className=\"column is-narrow\">\n\t\t\t\t<img src={image} alt={name} width=\"100\" />\n\t\t\t</div>\n\t\t\t<div className=\"column cart-name is-narrow\">{name}</div>\n\t\t\t<div className=\"column\">\n\t\t\t\t<span className=\"price\">{formatPrice(price)}</span>\n\t\t\t</div>\n\t\t\t<div className=\"column\">\n\t\t\t\t<input type=\"number\" className=\"input num-input\" min=\"1\" value={quantity} onChange={handleChange} />\n\t\t\t</div>\n\t\t\t<div className=\"column\">\n\t\t\t\t<span className=\"sum-price\">{sumPrice}</span>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default CartItem;","import React, { useState, useEffect, useMemo } from \"react\";\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nimport CartItem from \"components/CartItem\";\nimport { formatPrice } from \"commons/currency\";\nimport { connect } from \"react-redux\";\nimport { getCartInfo } from \"store/actions/cart\";\n\nconst Cart = (props) => {\n\n\tconst [carts, setCarts] = useState([]);\n\n\tuseEffect(() => {\n\t\tif (props.isAuthenticated) {\n\t\t\tgetCartInfo()\n\t\t\t.then(res => {\n\t\t\t\tsetCarts(res.data)\n\t\t\t})\n\t\t}\t\n\t}, [props.isAuthenticated]);\n\n\tconst totalPrice = useMemo(() => {\n\t\tconst totalPrice = carts.map(cart => cart.quantity * parseInt(cart.price)).reduce((a, value) => a + value, 0);\n\t\treturn formatPrice(totalPrice)\n\t}, [carts])\n\n\tconst updateCart = (cart) => {\n\t\tconst newCarts = [...carts];\n\t\tconst _index = newCarts.findIndex(c => c.id === cart.id);\n\t\tnewCarts.splice(_index, 1, cart);\n\t\tsetCarts(newCarts);\n\t}\n\n\tconst deleteCart = (cart) => {\n\t\tconst _carts = carts.filter(c => c.id !== cart.id);\n\t\tsetCarts(_carts);\n\t}\n\t\n\n\treturn(\n\t\t\t<div className=\"cart-page\">\n\t\t\t\t<span className=\"cart-title\">Shopping Cart</span>\n\t\t\t\t<div className=\"cart-list\">\n\t\t\t\t\t<div className=\"columns is-vcentered cart-info\">\n\t\t\t\t\t\t<div className=\"column cart-info-name is-narrow\">\n\t\t\t\t\t\t\t<span>Name</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"column cart-info-other\">\n\t\t\t\t\t\t\t<span>Price</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"column cart-info-other\">\n\t\t\t\t\t\t\t<span>Quantity</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"column cart-info-other\">\n\t\t\t\t\t\t\t<span>Total Price</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<TransitionGroup component={null}>\n\t\t\t\t\t\t{carts.map(cart => (\n\t\t\t\t\t\t\t<CSSTransition className=\"cart-item\" timeout={300} key={cart.id}>\n\t\t\t\t\t\t\t\t<CartItem key={cart.id} cart={cart} updateCart={updateCart} deleteCart={deleteCart} />\n\t\t\t\t\t\t\t</CSSTransition>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</TransitionGroup>\n\t\t\t\t</div>\n\t\t\t\t{\n\t\t\t\t\tcarts.length === 0 ? <p className=\"no-cart\">NO GOODS</p> : ''\n\t\t\t\t}\n\t\t\t\t<div className=\"cart-total\">\n\t\t\t\t\tTotal:\n\t\t\t\t\t<span className=\"total-price\">{totalPrice}</span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t)\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tisAuthenticated: state.auth.token !== null,\n\t};\n};\n\nexport default connect(mapStateToProps)(Cart);","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { authSignup } from \"store/actions/auth\";\nimport { Redirect } from \"react-router-dom\";\n\n\nclass Register extends React.Component {\n  \n  state = {\n    username: \"\",\n    nickname: \"\",\n    email: \"\",\n    password1: \"\",\n    password2: \"\"\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { username, nickname, email, password1, password2 } = this.state;\n    this.props.signup(username, nickname, email, password1, password2);\n  };\n\n  handleChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  render() {\n    const { username, nickname, email, password1, password2 } = this.state;\n    const { error, token } = this.props;\n    if (token) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <div className=\"login-wrapper\">\n        {error && <p>{this.props.error.message}</p>}\n        <form className=\"box login-box\" onSubmit={this.handleSubmit}>\t\t\t\t\t\n          <div className=\"field\">\n            <label className=\"label\">Username</label>\n            <div className=\"control\">\n              <input \n                className= \"input\"\n                type=\"text\"\n                placeholder=\"Username\"\n                name=\"username\"\n                onChange={this.handleChange}\n                value={username}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">Nickname</label>\n            <div className=\"control\">\n              <input \n                className= \"input\"\n                type=\"text\"\n                placeholder=\"Nickname\"\n                name=\"nickname\"\n                onChange={this.handleChange}\n                value={nickname}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">Email</label>\n            <div className=\"control\">\n              <input \n                className= \"input\"\n                type=\"text\"\n                placeholder=\"Email\"\n                name=\"email\"\n                onChange={this.handleChange}\n                value={email}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">Password</label>\n            <div className=\"control\">\n              <input\n                className= \"input\"\n                type=\"password\"\n                placeholder=\"Password\"\n                name=\"password1\"\n                onChange={this.handleChange}\n                value={password1}\n              />\n            </div>\n          </div>\n          <div className=\"field\">\n            <label className=\"label\">Confirm Password</label>\n            <div className=\"control\">\n              <input\n                className= \"input\"\n                type=\"password\"\n                placeholder=\"Confirm Password\"\n                name=\"password2\"\n                onChange={this.handleChange}\n                value={password2}\n              />\n            </div>\n          </div>\n          <div className=\"control\">\n            <button className=\"button is-fullwidth is-primary\">Submit</button>\n          </div>\n        </form>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    loading: state.auth.loading,\n    error: state.auth.error,\n    token: state.auth.token\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signup: (username, nickname, email, password1, password2) =>\n      dispatch(authSignup(username, nickname, email, password1, password2))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Register);\n","import axios from \"axios\";\nimport { getCookie } from \"commons/getcookie\";\n\nconst endpoint = \"http://127.0.0.1:8000/\"\n\n\n// const csrftoken = getCookie('csrftoken');\n// const csrftoken = Cookies.get('csrftoken')\n\nexport const authAxios = axios.create({\n  baseURL: endpoint + \"api/\",\n  headers: {\n    \"X-CSRFToken\": getCookie('csrftoken')\n  }\n});\n\nexport const userAxios = axios.create({\n  baseURL: endpoint + \"products/\",\n  headers: {\n    \"X-CSRFToken\": getCookie('csrftoken')\n  }\n});\n\nexport const Axios = axios.create({\n  baseURL: endpoint,\n  headers: {\n    \"X-CSRFToken\": getCookie('csrftoken')\n  }\n});","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\n\n\nclass ToolBox extends React.Component {\n  \n  state = {\n    searchText: '',\n    isLogout: true\n  }\n\n  handleChange = e => {\n    const value = e.target.value;\n    this.setState({\n      searchText: value\n    });\n    this.props.search(value);\n  }\n\n  searchClear = () => {\n    this.setState({\n      searchText: ''\n    });\n    this.props.search('');\n  }\n\n  goCart = () => {\n    if (!this.props.isAuthenticated) {\n      this.props.history.push('/login');\n      toast.info('Please Login First');\n      return;\n    }\n    this.props.history.push('/cart')\n  }\n\n  render() {\n\n    return (\n      <div className=\"tool-box\">\n        <div className=\"logo-text\">Shop</div>\n        <div className=\"search-box\">\n          <div className=\"field has-addons\">\n            <div className=\"control\">\n              <input type=\"text\" className=\"input search-input\" placeholder=\"Search Product\" value={this.state.searchText} onChange={this.handleChange} />\n            </div>\n            <div className=\"control\">\n              <button className=\"button\" onClick={this.searchClear}>X</button>\n            </div>\n          </div>\n        </div>\n        <div to=\"/cart\" className=\"cart-box\" onClick={this.goCart}>\n          <i className=\"fas fa-shopping-cart\"></i>\n          <span className=\"cart-num\">({this.props.cartNum})</span>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tisAuthenticated: state.auth.token !== null,\n\t};\n};\n\nexport default withRouter(connect(mapStateToProps)(ToolBox));","import React from \"react\";\nimport { render } from \"react-dom\";\n\nclass Panel extends React.Component {\n\t\n\tstate = {\n\t\tactive: false,\n\t\tcomponent: null,\n\t\tcallback: () => {}\n\t}\n\n\topen = (options = {\n\t\tprops: {},\n\t\tcomponent: null,\n\t\tcallback: () => {}\n\t}) => {\n\t\tconst { props, component, callback } = options;\n\t\tconst _key = new Date().getTime();\n\t\tconst _component = React.createElement(component, {\n\t\t\t...props,\n\t\t\tclose: this.close,\n\t\t\tkey: _key \n\t\t});\n\t\tthis.setState({\n\t\t\tactive: true,\n\t\t\tcomponent: _component,\n\t\t\tcallback: callback\n\t\t})\n\t}\n\n\tclose = (data) => {\n\t\tthis.setState({\n\t\t\tactive: false\n\t\t})\n\t\tif (data) {\n\t\t\tthis.state.callback(data);\n\t\t}\n\t}\n\n\trender() {\n\t\tconst _class = {\n\t\t\ttrue: 'panel-wrapper active',\n\t\t\tfalse: 'panel-wrapper'\n\t\t}\n\n\t\treturn (\n\t\t\t<div className={_class[this.state.active]}>\n\t\t\t\t<div className=\"over-layer\" onClick={() => {this.close()}}></div>\n\t\t\t\t<div className=\"panel\">\n\t\t\t\t\t<div className=\"head\">\n\t\t\t\t\t\t<span className=\"close\" onClick={() => {this.close()}}>x</span>\n\t\t\t\t\t\t{this.state.component}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst _div = document.createElement('div');\ndocument.body.appendChild(_div);\n\nconst _panel = render(<Panel />, _div);\n\nexport default _panel;","import Axios from \"axios\";\nimport { getCookie } from \"commons/getcookie\";\n\nexport const createProduct = (product) => {\n    const res = Axios\n        .create({\n            baseURL: \"http://127.0.0.1:8000/api/\",\n            headers: {\n                \"X-CSRFToken\": getCookie('csrftoken')\n            }\n        })\n        .post('', product)\n        .catch(err => {\n            console.log(err);\n        });\n    return res\n}\n\nexport const updateProduct = (id, product) => {\n    const res = Axios\n        .create({\n            baseURL: \"http://127.0.0.1:8000/api/\",\n            headers: {\n                \"X-CSRFToken\": getCookie('csrftoken')\n            }\n        })\n        .put(id + \"/\", product)\n        .catch(err => {\n            console.log(err);\n        });\n    return res\n}\n\nexport const deleteProduct = (id) => {\n    const res = Axios\n        .create({\n            baseURL: \"http://127.0.0.1:8000/api/\",\n            headers: {\n                \"X-CSRFToken\": getCookie('csrftoken')\n            }\n        })\n        .delete(id + \"/\")\n        .catch(err => {\n            console.log(err);\n        });\n    return res\n}\n  ","import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { updateProduct, deleteProduct } from \"store/actions/product\";\n\nclass EditInventory extends React.Component {\n\n\tstate = {\n\t\tid: '',\n\t\tname: '',\n\t\tprice: '',\n\t\ttags: '',\n\t\timage: '',\n\t\tstatus: 'available'\n\t}\n\n\tcomponentDidMount() {\n\t\tconst { id, name, image, tags, price, status } = this.props.product;\n\t\tthis.setState({\n\t\t\tid: id,\n\t\t\tname: name,\n\t\t\timage: image,\n\t\t\ttags: tags,\n\t\t\tprice: price,\n\t\t\tstatus: status\n\t\t})\n\t}\n\n\thandleChange = e => {\n\t\tconst value = e.target.value;\n\t\tconst name = e.target.name;\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t})\n\t}\n\n\tsubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst product = {...this.state};\n\t\tif (product.name !== \"\" && product.price !== \"\" && product.tags !== \"\" && product.image !== \"\") {\n\t\t\tconst res = updateProduct(this.state.id, product)\n\t\t\tres.then(res => {\n\t\t\t\tthis.props.close(res.data);\n\t\t\t\ttoast.success('Successful edit item');\n\t\t\t})\n\t\t} else {\n\t\t\ttoast.warning('Please fill all data');\n\t\t}\n\t}\n\n\tonDelete = () => {\n\t\tconst res = deleteProduct(this.state.id)\n\t\tres.then(res => {\n\t\t\tthis.props.deleteProduct(this.state.id);\n\t\t\tthis.props.close();\n\t\t\ttoast.success('Item deleted');\n\t\t})\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"inventory\">\n\t\t\t\t<p className=\"title has-text-centered\">Inventory</p>\n\t\t\t\t<form onSubmit={this.submit}>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<label className=\"label\">Message</label>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<textarea className=\"textarea\" name=\"name\" value={this.state.name} onChange={this.handleChange}></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<label className=\"label\">Price</label>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<input className=\"input\" type=\"number\" name=\"price\" value={this.state.price} onChange={this.handleChange} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<label className=\"label\">Tags</label>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<input className=\"input\" type=\"text\" name=\"tags\" value={this.state.tags} onChange={this.handleChange} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<label className=\"label\">Image</label>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<input className=\"input\" type=\"text\" name=\"image\" value={this.state.image} onChange={this.handleChange} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<label className=\"label\">Status</label>\n\t\t\t\t\t\t\t<div className=\"select is-fullwidth\">\n\t\t\t\t\t\t\t\t<select name=\"status\" value={this.state.status} onChange={this.handleChange}>\n\t\t\t\t\t\t\t\t\t<option>available</option>\n\t\t\t\t\t\t\t\t\t<option>unavailable</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"field is-grouped is-grouped-centered\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<button className=\"button is-link\">Submit</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<button className=\"button is-danger\" type=\"button\" onClick={this.onDelete}>Delete</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<button className=\"button\" type=\"button\" onClick={() => {this.props.close()}}>Cancel</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default EditInventory\n","import React from \"react\";\nimport { withRouter } from \"react-router-dom\"\nimport Panel from \"components/Panel\";\nimport {formatPrice} from \"commons/currency\";\nimport EditInventory from \"components/EditInventroy\";\nimport { connect } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { addToCart } from \"store/actions/cart\";\n\nclass Product extends React.Component {\n\n  toEdit = () => {\n    Panel.open({\n      component: EditInventory,\n      props: {\n        product: this.props.product,\n        deleteProduct: this.props.delete\n      },\n      callback: data => {\n        if (data) {\n          this.props.update(data);\n        }\n      }\n    })\n  }\n\n  // 異步函數 async\n  addCart = async () => {\n    if (!this.props.isAuthenticated) {\n      this.props.history.push('/login');\n      toast.info('Please Login First');\n      return;\n    }\n    const { id } = this.props.product\n    try {\n      const res = addToCart(id)\n      res.then(() => {\n        toast.success('Item added to cart');\n        this.props.updateCartNum();\n      })\n    } catch (error) {\n      toast.error('Item add failed');\n    }\n  }\n\n  render() {\n    const { name, image, tags, price, status } = this.props.product;\n    const _pClass = {\n      available: 'product',\n      unavailable: 'product out-stock'\n    }\n    return (\n      <div className={_pClass[status]}>\n        {(this.props.userIsManager) && (\n          <div className=\"p-head has-text-right\">\n            <span className=\"icon edit-btn\" onClick={this.toEdit}>\n              <i className=\"fas fa-sliders-h\"></i>\n            </span>\n          </div>\n        )\n        }\n        <div className=\"p-content\">\n          <div className=\"img-wrapper\">\n            <div className=\"out-stock-text\">Out Of Stock</div>\n            <figure className=\"image is4by3\">\n              <img src={image} alt={name} />\n            </figure>            \n          </div>\n          <p className=\"p-tags\">{tags}</p>\n          <p className=\"p-name\">{name}</p>\n        </div>\n        <div className=\"p-footer\">\n          <p className=\"price\">{formatPrice(price)}</p>\n          <button className=\"add-cart\" disabled={status === 'unavailable'} onClick={this.addCart}>\n            <i className=\"fas fa-shopping-cart\"></i>\n            <i className=\"fas fa-exclamation\"></i>\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  return {\n    isAuthenticated: state.auth.token !== null\n  };\n};\n\nexport default withRouter(connect(mapStateToProps)(Product));","import React from \"react\";\nimport { toast } from \"react-toastify\";\nimport { createProduct } from \"store/actions/product\";\n\nclass AddInventory extends React.Component {\n\n\tstate = {\n\t\tname: '',\n\t\tprice: '',\n\t\ttags: '',\n\t\timage: '',\n\t\tstatus: 'available'\n\t}\n\n\thandleChange = e => {\n\t\tconst value = e.target.value;\n\t\tconst name = e.target.name;\n\t\tthis.setState({\n\t\t\t[name]: value\n\t\t})\n\t}\n\n\tsubmit = (e) => {\n\t\te.preventDefault();\n\t\tconst product = {...this.state};\n\t\tif (product.name !== \"\" && product.price !== \"\" && product.tags !== \"\" && product.image !== \"\") {\n\t\t\tconst res = createProduct(product)\n\t\t\tres.then(res => {\n\t\t\t\tthis.props.close(res.data);\n\t\t\t\ttoast.success('Successful add item');\n\t\t\t})\n\t\t} else {\n\t\t\ttoast.warning('Please fill all data');\n\t\t}\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div className=\"inventory\">\n\t\t\t\t<p className=\"title has-text-centered\">Inventory</p>\n\t\t\t\t<form onSubmit={this.submit}>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<label className=\"label\">Message</label>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<textarea className=\"textarea\" name=\"name\" value={this.state.name} onChange={this.handleChange}></textarea>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<label className=\"label\">Price</label>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<input className=\"input\" type=\"number\" name=\"price\" value={this.state.price} onChange={this.handleChange} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<label className=\"label\">Tags</label>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<input className=\"input\" type=\"text\" name=\"tags\" value={this.state.tags} onChange={this.handleChange} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<label className=\"label\">Image</label>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<input className=\"input\" type=\"text\" name=\"image\" value={this.state.image} onChange={this.handleChange} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<label className=\"label\">Status</label>\n\t\t\t\t\t\t\t<div className=\"select is-fullwidth\">\n\t\t\t\t\t\t\t\t<select name=\"status\" value={this.state.status} onChange={this.handleChange}>\n\t\t\t\t\t\t\t\t\t<option>available</option>\n\t\t\t\t\t\t\t\t\t<option>unavailable</option>\n\t\t\t\t\t\t\t\t</select>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<br/>\n\t\t\t\t\t<div className=\"field is-grouped is-grouped-centered\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<button className=\"button is-link\">Submit</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<button className=\"button\" type=\"button\" onClick={() => {this.props.close()}}>Cancel</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</form>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default AddInventory\n","import React from \"react\";\nimport { TransitionGroup, CSSTransition } from \"react-transition-group\";\nimport { authAxios } from \"utils\";\nimport { getCartAmount } from \"store/actions/cart\";\nimport { getUserInfo } from \"store/actions/auth\";\nimport ToolBox from \"components/ToolBox\";\nimport Product from \"components/Product\";\nimport Panel from \"components/Panel\";\nimport AddInventory from \"components/AddInventory\";\nimport { connect } from \"react-redux\";\n\nclass Products extends React.Component {\n  \n  state = {\n    products: [],\n    sourceProducts: [],\n    cartNum: 0,\n    userIsManager: false,\n    isLogout: true\n  }\n\n  componentDidMount() {\n    authAxios.get('/').then(response => {\n      this.setState({\n        products: response.data,\n        sourceProducts: response.data\n      });\n    });\n    this.updateCartNum()\n    this.updateUserInfo()\n  }\n\n  // 搜尋功能\n  search = text => {\n    //copy products list\n    let _products = [...this.state.sourceProducts]\n\n    //filter list\n    _products = _products.filter(p => {\n      const matchArray = p.name.match(new RegExp(text, 'gi'))\n      return !!matchArray\n    })\n\n    //set State\n    this.setState({\n      products: _products\n    })\n  }\n\n  toAdd = () => {\n    Panel.open({\n      component: AddInventory,\n      callback: data => {\n        if (data) {\n          this.add(data);\n        }\n      }\n    });\n  }\n\n  add = (product_data) => {\n    const _products = [...this.state.products];\n    _products.push(product_data);\n    const _sourceProducts = [...this.state.sourceProducts];\n    _sourceProducts.push(product_data);\n\n    this.setState({\n      products: _products,\n      sourceProducts: _sourceProducts\n    })\n  }\n\n  update = (product_data) => {\n    const _products = [...this.state.products];\n    const _index = _products.findIndex(p => p.id === product_data.id);\n    _products.splice( _index, 1, product_data);\n    const _sourceProducts = [...this.state.sourceProducts];\n    const _sourceIndex = _sourceProducts.findIndex(p => p.id === product_data.id);\n    _sourceProducts.splice( _sourceIndex, 1, product_data);\n\n    this.setState({\n      products: _products,\n      sourceProducts: _sourceProducts\n    })\n  }\n\n  delete = (id) => {\n    const _products = this.state.products.filter(p => p.id !== id);\n    const _sourceProducts = this.state.sourceProducts.filter(p => p.id !== id);\n\n    this.setState({\n      products: _products,\n      sourceProducts: _sourceProducts\n    })\n  }\n\n  updateCartNum = async () => {\n    const cartNum = await this.initCartNum();\n    this.setState({\n      cartNum: cartNum\n    })\n  }\n\n  initCartNum = async () => {\n    const res = \n      await getCartAmount()\n    const data = res.amount\n    return data\n  }\n\n  updateUserInfo = async () => {\n    const user = await this.initUserInfo();\n    const userType = user.usertype\n    if (userType === 'manager') {\n      this.setState({\n        userIsManager: true\n      })\n    } else {\n      this.setState({\n        userIsManager: false\n      })\n    }\n  }\n\n  initUserInfo = async () => {\n      const res = \n          await getUserInfo();\n      const data = res.data\n      return data\n  }\n\n  logoutRefresh = () => {\n    this.updateUserInfo()\n    this.updateCartNum()\n    this.setState({\n      isLogout: false\n    })\n  }\n\n\n  render() {\n\n    if (!this.props.isAuthenticated && this.state.isLogout) {\n      this.logoutRefresh()\n    }\n\n    return (\n      <div>\n        <ToolBox search={this.search} cartNum={this.state.cartNum} updateCartNum={this.updateCartNum} />\n        <div className=\"products\">\n          <div className=\"columns is-multiline isdesktop\">\n            <TransitionGroup component={null}>\n              {\n                this.state.products.map(p => {\n                  return (\n                    <CSSTransition classNames=\"product-fade\" timeout={300} key={p.id}>\n                      <div className=\"column is-3\" key={p.id}>\n                        <Product product={p} update={this.update} delete={this.delete} updateCartNum={this.updateCartNum} userIsManager={this.state.userIsManager} />\n                      </div>\n                    </CSSTransition>\n                  )\n                })\n              }\n            </TransitionGroup>\n          </div>\n          {\n            ((this.state.userIsManager) && (\n              <button className=\"button is-primary add-btn\" onClick={this.toAdd}>Add</button>\n            ))\n          }\n        </div>\n      </div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n    isAuthenticated: state.auth.token !== null,\n\t};\n};\n\nexport default connect(mapStateToProps)(Products);","const Hoc = props => props.children;\n\nexport default Hoc;","import React from 'react'\nimport { Route } from 'react-router-dom';\nimport Login from 'pages/Login';\nimport NotFound from 'pages/NotFound';\nimport Cart from 'pages/Cart';\nimport Register from 'pages/Register';\nimport Products from 'components/Products';\nimport Hoc from './hoc/hoc';\n\nclass Router extends React.Component {\n\n    render() {\n        return (\n            <Hoc>\n                <Route exact path=\"/\" component={Products} />\n                <Route path=\"/login\" component={Login} />\n                <Route path=\"/register\" component={Register} />\n                <Route path=\"/cart\" component={Cart} />\n                <Route path=\"/not-found\" component={NotFound} />\n            </Hoc>\n        )\n    }\n}\n\nexport default Router;","import React from \"react\";\n\nclass UserProfile extends React.Component {\n\n\tstate = {\n\t\tusername: this.props.user.username,\n\t\tnickname: this.props.user.nickname,\n\t\temail: this.props.user.email,\n\t\tusertype: this.props.user.usertype\n\t}\n\n\trender() {\n\n\t\tconst logout = () => {\n\t\t\tthis.props.logout();\n\t\t\tthis.props.close(\"You have logged out\");\n\t\t}\n\n\t\treturn (\n\t\t\t<div className=\"user-profile\">\n\t\t\t\t<p className=\"title has-text-centered\">Profile</p>\n\t\t\t\t<fieldset disabled className=\"has-text-left\">\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<label className=\"label\">Username</label>\n\t\t\t\t\t\t\t<input  type=\"text\" className=\"input\" defaultValue={this.state.username} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<label className=\"label\">Nickname</label>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"input\" defaultValue={this.state.nickname} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<label className=\"label\">Email</label>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"input\" defaultValue={this.state.email} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"field\">\n\t\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t\t<label className=\"label\">Type</label>\n\t\t\t\t\t\t\t<input type=\"text\" className=\"input\" defaultValue={this.state.usertype} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</fieldset>\n\t\t\t\t<br/>\n\t\t\t\t<div className=\"field is-grouped is-grouped-centered\">\n\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t<button className=\"button is-danger\" type=\"button\" onClick={logout}>Logout</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"control\">\n\t\t\t\t\t\t<button className=\"button\" type=\"button\" onClick={() => {this.props.close()}}>Cancel</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default (UserProfile);","import React, { Fragment } from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport Panel from 'components/Panel';\nimport UserProfile from 'components/UserProfile';\nimport { connect } from 'react-redux';\nimport { toast } from 'react-toastify';\nimport { logout, getUserInfo } from \"store/actions/auth\";\n\nclass Header extends React.Component {\n\n\ttoProfile = async() => {\n\t\tconst res = await getUserInfo()\n\t\tPanel.open({\n\t\t\tcomponent: UserProfile,\n\t\t\tprops: {\n\t\t\t\tuser: res.data,\n\t\t\t\tlogout: () => {this.props.logout()},\n\t\t\t},\n\t\t\tcallback: (data) => {\n\t\t\t\ttoast.info(data);\n\t\t\t}\n\t\t})\n\t}\n\n  render() {\n\t\treturn (\n\t\t\t<div className=\"header\">\n\t\t\t\t<div className=\"grid\">\n\t\t\t\t\t<div className=\"start\">\n\t\t\t\t\t\t<Link to=\"/\">Home</Link>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"end\">\n\t\t\t\t\t\t{this.props.isAuthenticated ? (\n\t\t\t\t\t\t\t<span className=\"nickname\" onClick={this.toProfile}><i className=\"far fa-user\"></i> Profile</span>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Fragment>\n\t\t\t\t\t\t\t\t<Link to=\"/login\">Login</Link>\n\t\t\t\t\t\t\t\t<Link to=\"/register\">Register</Link>\n\t\t\t\t\t\t\t</Fragment>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tisAuthenticated: state.auth.token !== null,\n\t};\n};\n\nconst mapDispatchToProps = dispatch => {\n\treturn {\n\t\tlogout: () => dispatch(logout()),\n\t};\n};\n\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Header));","import React from 'react';\nimport Header from 'components/Header';\nimport { connect } from 'react-redux';\n\nclass Layout extends React.Component {\n    \n    render() {\n        return(\n            <div className=\"main\">\n                <Header {...this.state} />\n                {this.props.children}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n\treturn {\n\t\tisAuthenticated: state.auth.token !== null,\n\t};\n};\n\nexport default connect(mapStateToProps)(Layout);","import React from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport Router from \"Router\";\nimport * as actions from \"store/actions/auth\";\nimport Layout from \"Layout\";\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.props.onTryAutoSignup();\n  }\n\n  render() {\n    return (\n      <BrowserRouter>\n        <Layout {...this.props}>\n          <Router />\n        </Layout>\n      </BrowserRouter>\n    );\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onTryAutoSignup: () => dispatch(actions.authCheckState())\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(App);","export const updateObject = (oldObject, updatedProperties) => {\n  return {\n    ...oldObject,\n    ...updatedProperties\n  };\n};\n","import * as actionTypes from \"store/actions/actionTypes\";\nimport { updateObject } from \"store/utility\";\n\nconst initialState = {\n  token: null,\n  error: null,\n  loading: false\n};\n\nconst authStart = (state, action) => {\n  return updateObject(state, {\n    error: null,\n    loading: true\n  });\n};\n\nconst authSuccess = (state, action) => {\n  return updateObject(state, {\n    token: action.token,\n    error: null,\n    loading: false\n  });\n};\n\nconst authFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n};\n\nconst authLogout = (state, action) => {\n  return updateObject(state, {\n    token: null\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.AUTH_START:\n      return authStart(state, action);\n    case actionTypes.AUTH_SUCCESS:\n      return authSuccess(state, action);\n    case actionTypes.AUTH_FAIL:\n      return authFail(state, action);\n    case actionTypes.AUTH_LOGOUT:\n      return authLogout(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import { CART_START, CART_SUCCESS, CART_FAIL } from \"store/actions/actionTypes\";\nimport { updateObject } from \"store/utility\";\n\nconst initialState = {\n  shoppingCart: null,\n  error: null,\n  loading: false\n};\n\nconst cartStart = (state, action) => {\n  return updateObject(state, {\n    error: null,\n    loading: true\n  });\n};\n\nconst cartSuccess = (state, action) => {\n  return updateObject(state, {\n    shoppingCart: action.data,\n    error: null,\n    loading: false\n  });\n};\n\nconst cartFail = (state, action) => {\n  return updateObject(state, {\n    error: action.error,\n    loading: false\n  });\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case CART_START:\n      return cartStart(state, action);\n    case CART_SUCCESS:\n      return cartSuccess(state, action);\n    case CART_FAIL:\n      return cartFail(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default reducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport 'css/app.scss';\nimport 'css/style.scss';\n\nimport registerServiceWorker from \"./registerServiceWorker\";\nimport { createStore, compose, applyMiddleware, combineReducers } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport App from 'App';\nimport thunk from \"redux-thunk\";\n\nimport authReducer from \"./store/reducers/auth\";\nimport cartReducer from \"./store/reducers/cart\";\n\nconst composeEnhances = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst rootReducer = combineReducers({\n  auth: authReducer,\n  cart: cartReducer\n});\n\nconst store = createStore(rootReducer, composeEnhances(applyMiddleware(thunk)));\n\nconst app = (\n\t<div >\n\t\t<ToastContainer\n\t\t\tposition=\"top-right\"\n\t\t\tautoClose={5000}\n\t\t\thideProgressBar={false}\n\t\t\tnewestOnTop={false}\n\t\t\tcloseOnClick\n\t\t\trtl={false}\n\t\t\tpauseOnFocusLoss\n\t\t\tdraggable\n\t\t\tpauseOnHover\n\t\t/>\n\t\t<Provider store={store}>\n\t\t\t<App />\n\t\t</Provider>\n\t</div>\n)\nReactDOM.render(app, document.getElementById(\"root\"));\nregisterServiceWorker();"],"sourceRoot":""}